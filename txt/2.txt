Lab2

№1

 gcc -c swap.c
 gcc -c main.c 
 gcc swap.o main.o -o s
 ./s
b a

*** Непрямое обращение («объект, на который указывает a»)  -  *a;
*** Ссылка («адрес a»)	-  &a;

№2

*** Вы можете вызвать функцию malloc в любое время, и она запросит блок памяти из кучи. 
Операционная система зарезервирует блок памяти для вашей программы, и вы можете использовать
его любым удобным для вас способом. Когда вы закончите с блоком, вы вернете его в операционную
систему для повторного использования, вызвав функцию free. Затем другие приложения могут 
зарезервировать его позже для собственного использования/

***  Cтек — это очень быстрое хранилище памяти, работающее по принципу LIFO и управляемое 
процессором. Но эти преимущества приводят к ограниченному размеру стека и специальному способу
получения значений. Для того, чтобы избежать этих ограничений, можно пользоваться Кучей — она
позволяет создавать динамические и глобальные переменные — но управлять памятью должен либо 
сборщик мусора, либо сам программист, да и работает куча медленнее.

*** Фактически main может принимать два аргумента: один аргумент-это число аргументов командной
строки, а другой аргумент-полный список всех аргументов командной строки.

 gcc -c main.c 
 gcc -c revert_string.c
 gcc main.o revert_string.o -o s
 ./s
Usage: ./s string_to_revert
 ./s rtfyrytggyu
Reverted: uyggtyryftr
 ./s d
Segmentation fault (core dumped)
 ./s
Usage: ./s string_to_revert

№3

Статическая библиотека: 

 gcc -c main.c -o main.o
 gcc -c revert_string.c -o revert_string.o
 gcc -c -fPIC revert_string.c -o dy_revert_string.o  // `-fPIC` - это флаг для компилятора C`gcc`, который вызывает создание независимого от позиции кода. Независимый от положения код важен при компиляции библиотек, которые должны быть динамически связаны, также известных как.dll (динамически подключаемые библиотеки) в Windows или.so (общие объекты) в Linux. Используйте этот тег, если у вас есть проблемы с компиляцией кода, когда используется флаг `-fPIC`, или когда вы спрашиваете о сборке двоичных файлов с этим флагом.
ar rcs libstatic.a revert_string.o  // rcs !
 gcc main.c libstatic.a 
 ./a.out
Usage: ./a.out string_to_revert
 ./a.out ksdfsdf
Reverted: fdsfdsk
 gcc main.c -L. -lstatic -o a1.out ./a1.out hdfsdfj  // //  -L ; -l !
Reverted: jfdsfdh

http://radist-elvin.blogspot.com/2008/07/linux.html

Динамическая библиотека:

cd lab2/src/revert_string/
 gcc -fPIC -c revert_string.c -o revert_string.o
 gcc -shared -o libdynamic.so revert_string.o
 gcc main.c -L. -ldynamic -o a.out
 export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd) // устанавливаем LD_LIBRARY_PATH ! в оболочке
 ./a.out asdg
Reverted: gdsa 

№4

LD_LIBRARY_PATH - предопределенная переменная среды в Linux/Unix, которая задает путь, на который должен смотреть компоновщик при связывании динамических библиотек / общих библиотек. LD_LIBRARY_PATH содержит список путей, разделенных двоеточием, и компоновщик дает приоритет этим путям над стандартными путями библиотеки /lib и /usr/lib.


